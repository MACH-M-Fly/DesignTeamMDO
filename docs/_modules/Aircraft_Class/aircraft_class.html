
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Aircraft_Class.aircraft_class &#8212; DesignTeamMDO 1.0.0 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for Aircraft_Class.aircraft_class</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">scipy.integrate</span> <span class="k">as</span> <span class="nn">integrate</span>
<span class="kn">import</span> <span class="nn">scipy.special</span> <span class="k">as</span> <span class="nn">special</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Creates aircraft from input file parameters</span>
<span class="sd">   - Aircraft (Mass, Inertias)</span>
<span class="sd">   - Surfaces (Wing, horizontal tail, vertical tail)</span>
<span class="sd">   - Fuselage (body volume)</span>
<span class="sd">&quot;&quot;&quot;</span>


<div class="viewcode-block" id="Aircraft"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Aircraft">[docs]</a><span class="k">class</span> <span class="nc">Aircraft</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class used as a container for aircraft computation</span>
<span class="sd">    - Parasitic drag</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># TODO - UPDATE PARASITIC DRAG</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CD_p</span> <span class="o">=</span> <span class="mf">0.0</span>  <span class="c1"># Parasitic drag coefficient</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">I</span> <span class="o">=</span> <span class="p">([</span><span class="mf">0.195995656591</span><span class="p">,</span> <span class="mf">1.5429026885</span><span class="p">,</span> <span class="mf">1.73889834509</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span> <span class="c1"># TODO - Constant I?</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>

<div class="viewcode-block" id="Aircraft.update_aircraft"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Aircraft.update_aircraft">[docs]</a>    <span class="k">def</span> <span class="nf">update_aircraft</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to update the aircraft on each iteration of MDO</span>

<span class="sd">        Inputs</span>
<span class="sd">        ----------</span>
<span class="sd">        cur_AC          :   Class</span>
<span class="sd">                            Class containing all aircraft data</span>


<span class="sd">        Outputs</span>
<span class="sd">        ----------</span>
<span class="sd">        none, just updates the aircraft (AC)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Create an instance of AC for wing values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wing</span> <span class="o">=</span> <span class="n">Wing</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wing</span><span class="o">.</span><span class="n">num_sections</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_linear</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wing</span><span class="o">.</span><span class="n">b_wing</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wing</span><span class="o">.</span><span class="n">sweep</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">wing</span><span class="o">.</span><span class="n">chord</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Xo</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Yo</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Zo</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wing</span><span class="o">.</span><span class="n">dihedral</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wing</span><span class="o">.</span><span class="n">camber</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">wing</span><span class="o">.</span><span class="n">max_camber</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wing</span><span class="o">.</span><span class="n">thickness</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wing</span><span class="o">.</span><span class="n">max_thickness</span><span class="p">)</span>

        <span class="c1"># Add wing structural parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wing</span><span class="o">.</span><span class="n">dist_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wing_dist_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wing</span><span class="o">.</span><span class="n">spar_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wing_spar_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wing</span><span class="o">.</span><span class="n">spar_dim</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wing_spar_dim</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wing</span><span class="o">.</span><span class="n">spar_E</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wing_spar_E</span>

        <span class="c1"># Add propulsion system</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">propulsion</span> <span class="o">=</span> <span class="n">Propulsion</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">propulsion</span><span class="o">.</span><span class="n">motorKV</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">propulsion</span><span class="o">.</span><span class="n">diameter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">propulsion</span><span class="o">.</span><span class="n">pitch</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">propulsion</span><span class="o">.</span><span class="n">cellNum</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">propulsion</span><span class="o">.</span><span class="n">thrustCurve</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">propulsion</span><span class="o">.</span><span class="n">escCur</span><span class="p">)</span>

        <span class="c1"># Create an instance of AC for tail values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tail</span> <span class="o">=</span> <span class="n">Tail</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tail</span><span class="o">.</span><span class="n">num_sections</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_linear</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tail</span><span class="o">.</span><span class="n">b_htail</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">tail</span><span class="o">.</span><span class="n">htail_chord</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tail</span><span class="o">.</span><span class="n">b_vtail</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tail</span><span class="o">.</span><span class="n">vtail_chord</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Xo</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Yo</span><span class="p">,</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">Zo</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">boom_len</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wing</span><span class="o">.</span><span class="n">chord_vals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mf">4.</span><span class="p">)</span>

        <span class="c1"># Add tail boom structural parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tail</span><span class="o">.</span><span class="n">boom_Type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tail_boom_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tail</span><span class="o">.</span><span class="n">boom_Dim</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tail_boom_Dim</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tail</span><span class="o">.</span><span class="n">boom_E</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tail_boom_E</span>

        <span class="c1"># Reset score</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">score</span> <span class="o">=</span> <span class="mi">0</span></div></div>


<div class="viewcode-block" id="Wing"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Wing">[docs]</a><span class="k">class</span> <span class="nc">Wing</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class used as a container for all wing information (taken from input file)</span>
<span class="sd">    - Surface geometry</span>
<span class="sd">    - Position of the wing</span>
<span class="sd">    - Sectional splitting</span>
<span class="sd">    - Airfoils for wing</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_sections</span><span class="p">,</span> <span class="n">is_linear</span><span class="p">,</span> <span class="n">b_wing</span><span class="p">,</span> <span class="n">sweep</span><span class="p">,</span> <span class="n">chord</span><span class="p">,</span> <span class="n">Xo</span><span class="p">,</span> <span class="n">Yo</span><span class="p">,</span> <span class="n">Zo</span><span class="p">,</span> <span class="n">dihedral</span><span class="p">,</span> <span class="n">camber</span><span class="p">,</span> <span class="n">max_camber</span><span class="p">,</span>
                 <span class="n">thickness</span><span class="p">,</span> <span class="n">max_thickness</span><span class="p">,</span>
                 <span class="n">Afiles</span><span class="o">=</span><span class="p">(),</span> <span class="n">ainc</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])):</span>

        <span class="c1"># Assign Inputs to aircraft object</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span> <span class="o">=</span> <span class="n">num_sections</span>  <span class="c1"># Number of sections per half-wing</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_linear</span> <span class="o">=</span> <span class="n">is_linear</span>  <span class="c1"># 0 for non-linear cubic varying chord, 1 for linearly varying wing/tail values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b_wing</span> <span class="o">=</span> <span class="n">b_wing</span>  <span class="c1"># Wing span (not half-span)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sweep</span> <span class="o">=</span> <span class="n">sweep</span>  <span class="c1"># Wing sweep (quarter chord in degrees)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chord</span> <span class="o">=</span> <span class="n">chord</span>  <span class="c1"># Chord as a function of half-span (b_wing/2)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Xo</span> <span class="o">=</span> <span class="n">Xo</span>  <span class="c1"># Root chord, leading edge, X position</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Yo</span> <span class="o">=</span> <span class="n">Yo</span>  <span class="c1"># Root chord, leading edge, X position</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Zo</span> <span class="o">=</span> <span class="n">Zo</span>  <span class="c1"># Root chord, leading edge, X position</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dihedral</span> <span class="o">=</span> <span class="n">dihedral</span>  <span class="c1"># Wing dihedral angle (degrees)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">camber</span> <span class="o">=</span> <span class="n">camber</span>  <span class="c1"># Camber as a cubic function of span</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_camber</span> <span class="o">=</span> <span class="n">max_camber</span>  <span class="c1"># Max camber position as a cubic function of span</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thickness</span> <span class="o">=</span> <span class="n">thickness</span>  <span class="c1"># Thickness as a cubic function of span</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_thickness</span> <span class="o">=</span> <span class="n">max_thickness</span>  <span class="c1"># Max thickness position as a cubic function of span</span>
        <span class="c1"># self.boom_len = boom_len				# Tailboom length</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Afiles</span> <span class="o">=</span> <span class="n">Afiles</span>  <span class="c1"># File for initial airfoil input</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ainc</span> <span class="o">=</span> <span class="n">ainc</span>  <span class="c1"># Angle of incidence as a function of half-span (b_wing/2)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sec_span</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_wing</span> <span class="o">/</span> <span class="mf">2.0</span> <span class="o">/</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># Span of each section of wing</span>

        <span class="c1"># Check for linearly varying input</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_linear</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">chord</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">chord</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">chord</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sweep</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sweep</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sweep</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># If no starting airfoil given, default airfoil to start is NACA2412</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">Afiles</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Afiles</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;NACA2412&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span>

        <span class="c1"># If no starting inclination angle given, default is zero</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">ainc</span><span class="o">.</span><span class="n">any</span><span class="p">()):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ainc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">)</span>

        <span class="c1"># Calculate wing chord values at each section</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chord_vals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getChord</span><span class="p">()</span>
        <span class="c1"># print(&quot;Chord Vals&quot;,self.chord_vals)</span>

        <span class="c1"># Calculate sweep values at each section</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sweep_vals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSweep</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sweep</span><span class="p">)</span>
        <span class="c1"># print(&quot;Sweep Vals&quot;, self.sweep_vals)</span>

        <span class="c1"># Calculate leading edge coordinates</span>
        <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">Xle</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Yle</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Zle</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calcLeading_Edge</span><span class="p">()</span>
        <span class="c1"># print(&quot;Leading Edge: X, Y, Z&quot;, self.Xle, self.Yle, self.Zle)</span>

        <span class="c1"># Calulate wing surface reference area</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calcSrefWing</span><span class="p">()</span>
        <span class="c1"># print(&quot;Wing Sref&quot;, self.Sref)</span>

        <span class="c1"># Calculate the mean aerodynamic chord</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MAC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calcMAC</span><span class="p">()</span>
        <span class="c1"># print(&quot;Wing MAC&quot;, self.MAC)</span>

        <span class="c1"># Calculate the CG of the aircraft</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CG</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">chord_vals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>

        <span class="c1"># Get cmaber values at spanwise locations</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">camber_vals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getCamber</span><span class="p">()</span>

        <span class="c1"># Get cmaber values at spanwise locations</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_camber_vals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMaxCamber</span><span class="p">()</span>

        <span class="c1"># Get cmaber values at spanwise locations</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thickness_vals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getThickness</span><span class="p">()</span>

        <span class="c1"># Get cmaber values at spanwise locations</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_thickness_vals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMaxThickness</span><span class="p">()</span>

    <span class="c1"># Function: Calculate sweep values at sectional chord locations</span>
<div class="viewcode-block" id="Wing.getSweep"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Wing.getSweep">[docs]</a>    <span class="k">def</span> <span class="nf">getSweep</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sweep</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sweep_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">):</span>
            <span class="n">span</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">sec_span</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sweep_vals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">sweep</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">span</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">sweep</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">span</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> \
                                 <span class="n">sweep</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">span</span> <span class="o">+</span> <span class="n">sweep</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sweep_vals</span></div>

    <span class="c1"># Function: Calculate chord at spanwise locations</span>
<div class="viewcode-block" id="Wing.getChord"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Wing.getChord">[docs]</a>    <span class="k">def</span> <span class="nf">getChord</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chord_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">)</span>
        <span class="n">spans</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">sec_span</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chord_vals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chord</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">spans</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">chord</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">spans</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">chord</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">spans</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">chord</span><span class="p">[</span>
            <span class="mi">3</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">chord_vals</span></div>

    <span class="c1"># Function: Calculate camber at spanwise locations</span>
<div class="viewcode-block" id="Wing.getCamber"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Wing.getCamber">[docs]</a>    <span class="k">def</span> <span class="nf">getCamber</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">camber_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">)</span>
        <span class="n">spans</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">sec_span</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">camber_vals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">camber</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">spans</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">camber</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">spans</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">camber</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">spans</span> <span class="o">+</span> \
                           <span class="bp">self</span><span class="o">.</span><span class="n">camber</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">camber_vals</span></div>

    <span class="c1"># Function: Calculate max camber position at spanwise locations</span>
<div class="viewcode-block" id="Wing.getMaxCamber"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Wing.getMaxCamber">[docs]</a>    <span class="k">def</span> <span class="nf">getMaxCamber</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_camber_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">)</span>
        <span class="n">spans</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">sec_span</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_camber_vals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_camber</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">spans</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_camber</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">spans</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_camber</span><span class="p">[</span>
            <span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">spans</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_camber</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_camber_vals</span></div>

    <span class="c1"># Function: Calculate thickness at spanwise locations</span>
<div class="viewcode-block" id="Wing.getThickness"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Wing.getThickness">[docs]</a>    <span class="k">def</span> <span class="nf">getThickness</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thickness_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">)</span>
        <span class="n">spans</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">sec_span</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thickness_vals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thickness</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">spans</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">thickness</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">spans</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">thickness</span><span class="p">[</span>
            <span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">spans</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">thickness</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">thickness_vals</span></div>

    <span class="c1"># Function: Calculate max thickness at spanwise locations</span>
<div class="viewcode-block" id="Wing.getMaxThickness"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Wing.getMaxThickness">[docs]</a>    <span class="k">def</span> <span class="nf">getMaxThickness</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_thickness_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">)</span>
        <span class="n">spans</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">sec_span</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_thickness_vals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_thickness</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">spans</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_thickness</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">spans</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> \
                                  <span class="bp">self</span><span class="o">.</span><span class="n">max_thickness</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">spans</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_thickness</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_thickness_vals</span></div>

    <span class="c1"># Calculate wing leading edge coordinates</span>
<div class="viewcode-block" id="Wing.calcLeading_Edge"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Wing.calcLeading_Edge">[docs]</a>    <span class="k">def</span> <span class="nf">calcLeading_Edge</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Build leading edge coordinates</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Xle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Yle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Zle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Xle</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Xo</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Yle</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Yo</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Zle</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Zo</span>
        <span class="n">Xo_quar</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Xo</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">chord_vals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">4</span>
        <span class="c1"># print(range(self.num_sections))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">):</span>
            <span class="c1"># print(&quot;i&quot;,i)</span>
            <span class="n">angle</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sweep_vals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Xle</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sec_span</span> <span class="o">*</span> <span class="n">i</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Yle</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sec_span</span> <span class="o">*</span> <span class="n">i</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Zle</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Zo</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">sec_span</span> <span class="o">*</span> <span class="n">i</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dihedral</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">Xle</span><span class="p">,</span>
                         <span class="bp">self</span><span class="o">.</span><span class="n">Yle</span><span class="p">,</span>
                         <span class="bp">self</span><span class="o">.</span><span class="n">Zle</span><span class="p">])</span></div>

    <span class="c1"># Function: Calculate reference area for surface</span>
    <span class="c1"># Sref = integral (chord) dy (from 0 to bwing/2)</span>
<div class="viewcode-block" id="Wing.calcSrefWing"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Wing.calcSrefWing">[docs]</a>    <span class="k">def</span> <span class="nf">calcSrefWing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sref</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sref</span> <span class="o">=</span> <span class="n">integrate</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chord</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">chord</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> \
                                              <span class="bp">self</span><span class="o">.</span><span class="n">chord</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">chord</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_wing</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sref</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sref</span></div>

    <span class="c1"># Function: Calculate mean aerodynaic chord for surface</span>
    <span class="c1"># MAC = 2/Sref * integral chord^2 dy (from 0 to b_wing/2)</span>
<div class="viewcode-block" id="Wing.calcMAC"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Wing.calcMAC">[docs]</a>    <span class="k">def</span> <span class="nf">calcMAC</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MAC</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MAC</span> <span class="o">=</span> <span class="n">integrate</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chord</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">chord</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> \
                                             <span class="bp">self</span><span class="o">.</span><span class="n">chord</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">chord</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_wing</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MAC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MAC</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mf">2.0</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">sref</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">MAC</span></div>

    <span class="c1"># Function to add control surfaces to the wing</span>
<div class="viewcode-block" id="Wing.addControlSurface"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Wing.addControlSurface">[docs]</a>    <span class="k">def</span> <span class="nf">addControlSurface</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secStart</span><span class="p">,</span> <span class="n">secEnd</span><span class="p">,</span> <span class="n">hvec</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">control_surf</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">control_secstart</span> <span class="o">=</span> <span class="n">secStart</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">control_secend</span> <span class="o">=</span> <span class="n">secEnd</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">control_hvec</span> <span class="o">=</span> <span class="n">hvec</span>
        <span class="k">return</span></div>

    <span class="c1"># Function to add a spar that covers the thickness of the airfoil</span>
    <span class="c1"># - To be finished later</span>
<div class="viewcode-block" id="Wing.addSpar"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Wing.addSpar">[docs]</a>    <span class="k">def</span> <span class="nf">addSpar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div></div>

<span class="c1"># # Function to update the wing on each iteration</span>
<span class="c1"># def updateAircraftWing(self):</span>
<span class="c1"># 	self.b_wing = 5.0</span>
<span class="c1"># 	# Calculate wing chord values at each section</span>

<span class="c1"># 	self.getChord()</span>
<span class="c1"># 	# print(&quot;Chord Vals&quot;,self.chord_vals)</span>

<span class="c1"># 	# Calculate sweep values at each section</span>
<span class="c1"># 	self.getSweep(self.sweep)</span>
<span class="c1"># 	# print(&quot;Sweep Vals&quot;, self.sweep_vals)</span>

<span class="c1"># 	# Calculate leading edge coordinates</span>
<span class="c1"># 	self.calcLeading_Edge()</span>
<span class="c1"># 	# print(&quot;Leading Edge: X, Y, Z&quot;, self.Xle, self.Yle, self.Zle)</span>

<span class="c1"># 	# Calulate wing surface reference area</span>
<span class="c1"># 	self.calcSrefWing()</span>
<span class="c1"># 	# print(&quot;Wing Sref&quot;, self.Sref)</span>

<span class="c1"># 	# Calculate the mean aerodynamic chord</span>
<span class="c1"># 	self.calcMAC()</span>
<span class="c1"># 	# print(&quot;Wing MAC&quot;, self.MAC)</span>

<span class="c1"># 	# Calculate the CG of the aircraft</span>
<span class="c1"># 	self.CG = np.array([self.chord_vals[0]/4, 0.0, 0.0])</span>

<span class="c1"># 	# Get cmaber values at spanwise locations</span>
<span class="c1"># 	self.getCamber()</span>

<span class="c1"># 	# Get cmaber values at spanwise locations</span>
<span class="c1"># 	self.getMaxCamber()</span>

<span class="c1"># 	# Get cmaber values at spanwise locations</span>
<span class="c1"># 	self.getThickness()</span>

<span class="c1"># 	# Get cmaber values at spanwise locations</span>
<span class="c1"># 	self.getMaxThickness()</span>


<div class="viewcode-block" id="Tail"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Tail">[docs]</a><span class="k">class</span> <span class="nc">Tail</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class used as a container for all wing information (taken from input file)</span>
<span class="sd">    - Surface geometry</span>
<span class="sd">    - Position of the wing</span>
<span class="sd">    - Sectional splitting</span>
<span class="sd">    - Airfoils for wing</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_sections</span><span class="p">,</span> <span class="n">is_linear</span><span class="p">,</span> <span class="n">b_htail</span><span class="p">,</span> <span class="n">htail_chord</span><span class="p">,</span> <span class="n">b_vtail</span><span class="p">,</span> <span class="n">vtail_chord</span><span class="p">,</span> <span class="n">Xo</span><span class="p">,</span> <span class="n">Yo</span><span class="p">,</span> <span class="n">Zo</span><span class="p">,</span> <span class="n">boom_len</span><span class="p">,</span>
                 <span class="n">wing_rootchord_qrt</span><span class="p">):</span>

        <span class="c1"># Assign Inputs to aircraft object</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span> <span class="o">=</span> <span class="n">num_sections</span>  <span class="c1"># Number of sections per half-wing</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_linear</span> <span class="o">=</span> <span class="n">is_linear</span>  <span class="c1"># 0 for non-linear cubic varying chord, 1 for linearly varying wing/tail values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b_htail</span> <span class="o">=</span> <span class="n">b_htail</span>  <span class="c1"># Span of horizontal tail</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">htail_chord</span> <span class="o">=</span> <span class="n">htail_chord</span>  <span class="c1"># Horizontail tail chord</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b_vtail</span> <span class="o">=</span> <span class="n">b_vtail</span>  <span class="c1"># Span of vertical tail (height)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vtail_chord</span> <span class="o">=</span> <span class="n">vtail_chord</span>  <span class="c1"># Vertical tail chord</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Xo</span> <span class="o">=</span> <span class="n">Xo</span>  <span class="c1"># Root chord, leading edge, X position</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Yo</span> <span class="o">=</span> <span class="n">Yo</span>  <span class="c1"># Root chord, leading edge, X position</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Zo</span> <span class="o">=</span> <span class="n">Zo</span>  <span class="c1"># Root chord, leading edge, X position</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">boom_len</span> <span class="o">=</span> <span class="n">boom_len</span>  <span class="c1"># Tailboom length</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sec_span_htail</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_htail</span> <span class="o">/</span> <span class="mf">2.0</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span>  <span class="c1"># Span of each section of horiz. tail</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sec_span_vtail</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_vtail</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span>  <span class="c1"># Span of each section of vert. tail</span>

        <span class="c1"># Check for linearly varying input</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_linear</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">htail_chord</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">htail_chord</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">htail_chord</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vtail_chord</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vtail_chord</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vtail_chord</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># Calculate horiz. tail chord values at each section</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">htail_chord_vals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getHTailChord</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">htail_chord</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sec_span_htail</span><span class="p">)</span>
        <span class="c1"># print(&quot;Htail Chord Vals&quot;,self.htail_chord_vals)</span>

        <span class="c1"># Calculate horiz. tail chord values at each section</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vtail_chord_vals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getVTailChord</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vtail_chord</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sec_span_vtail</span><span class="p">)</span>
        <span class="c1"># print(&quot;Htail Chord Vals&quot;,self.htail_chord_vals)</span>

        <span class="c1"># Calulate wing surface reference area</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sref_ht</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calcSrefHTail</span><span class="p">()</span>
        <span class="c1"># print(&quot;Tail Sref&quot;, self.Sref)</span>

        <span class="c1"># Calulate wing surface reference area</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sref_vt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calcSrefVTail</span><span class="p">()</span>
        <span class="c1"># print(&quot;Tail Sref&quot;, self.Sref)</span>

        <span class="c1"># Calculate the mean aerodynamic chord</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MAC_ht</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calcMAC_ht</span><span class="p">()</span>
        <span class="c1"># print(&quot;Wing MAC&quot;, self.MAC)</span>

        <span class="c1"># Calculate the mean aerodynamic chord</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MAC_vt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calcMAC_vt</span><span class="p">()</span>
        <span class="c1"># print(&quot;Wing MAC&quot;, self.MAC)</span>

        <span class="c1"># Calculate vert. tail chord values at each section</span>
        <span class="c1"># self.vtail_chord_vals = self.getVTailChord(self.vtail_chord, self.sec_span_vtail)</span>
        <span class="c1"># print(&quot;Vtail hord Vals&quot;,self.vtail_chord_vals)</span>

        <span class="c1"># Calculate leading edge coordinates</span>
        <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">Xle_ht</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Yle_ht</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Zle_ht</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calcHorizLeading_Edge</span><span class="p">(</span><span class="n">wing_rootchord_qrt</span><span class="p">)</span>
        <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">Xle_vt</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Yle_vt</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Zle_vt</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calcVertLeading_Edge</span><span class="p">(</span><span class="n">wing_rootchord_qrt</span><span class="p">)</span>

    <span class="c1"># print(&quot;Tail Leading Edge: X, Y, Z&quot;, self.Xle_ht, self.Yle_ht, self.Zle_ht)</span>

    <span class="c1"># sref = integral (chord) dy (from 0 to bwing/2)</span>
<div class="viewcode-block" id="Tail.calcSrefHTail"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Tail.calcSrefHTail">[docs]</a>    <span class="k">def</span> <span class="nf">calcSrefHTail</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sref_ht</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sref_ht</span> <span class="o">=</span> <span class="n">integrate</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">htail_chord</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">htail_chord</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span>
                                              <span class="bp">self</span><span class="o">.</span><span class="n">htail_chord</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">htail_chord</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="mf">0.</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_htail</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sref_ht</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sref_ht</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mf">2.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sref_ht</span></div>

    <span class="c1"># sref = integral (chord) dy (from 0 to bwing/2)</span>
<div class="viewcode-block" id="Tail.calcSrefVTail"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Tail.calcSrefVTail">[docs]</a>    <span class="k">def</span> <span class="nf">calcSrefVTail</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sref_vt</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sref_vt</span> <span class="o">=</span> <span class="n">integrate</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vtail_chord</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">vtail_chord</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span>
                                              <span class="bp">self</span><span class="o">.</span><span class="n">vtail_chord</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">vtail_chord</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="mf">0.</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_vtail</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sref_vt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sref_vt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sref_vt</span></div>

    <span class="c1"># Function: Calculate horiz. tail chord at sectional chord locations</span>
<div class="viewcode-block" id="Tail.getHTailChord"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Tail.getHTailChord">[docs]</a>    <span class="k">def</span> <span class="nf">getHTailChord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">htail_chord</span><span class="p">,</span> <span class="n">sec_span_htail</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">htail_chord_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">):</span>
            <span class="n">span</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">sec_span_htail</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">htail_chord_vals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">htail_chord</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">span</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">htail_chord</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">span</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> \
                                       <span class="n">htail_chord</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">span</span> <span class="o">+</span> <span class="n">htail_chord</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">htail_chord_vals</span></div>

    <span class="c1"># Function: Calculate vertical tail chord at sectional chord locations</span>
<div class="viewcode-block" id="Tail.getVTailChord"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Tail.getVTailChord">[docs]</a>    <span class="k">def</span> <span class="nf">getVTailChord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vtail_chord</span><span class="p">,</span> <span class="n">sec_span_vtail</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vtail_chord_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">):</span>
            <span class="n">span</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">sec_span_vtail</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vtail_chord_vals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">vtail_chord</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">span</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">vtail_chord</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">span</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> \
                                       <span class="n">vtail_chord</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">span</span> <span class="o">+</span> <span class="n">vtail_chord</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">vtail_chord_vals</span></div>

    <span class="c1"># Function: Calculate horiz. tail leading edge coordinates</span>
<div class="viewcode-block" id="Tail.calcHorizLeading_Edge"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Tail.calcHorizLeading_Edge">[docs]</a>    <span class="k">def</span> <span class="nf">calcHorizLeading_Edge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wing_rootchord_qrt</span><span class="p">):</span>
        <span class="c1"># Build leading edge coordinates</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Xle_ht</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Yle_ht</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Zle_ht</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Xle_ht</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Xo</span> <span class="o">+</span> <span class="n">wing_rootchord_qrt</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">boom_len</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">htail_chord_vals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mf">4.</span>
        <span class="c1"># print(&quot;Xle_ht HERE&quot;, self.Xle_ht)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Yle_ht</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Yo</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Zle_ht</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Zo</span>
        <span class="n">Xo_quar_ht</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Xle_ht</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">htail_chord_vals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">4</span>
        <span class="c1"># print(range(self.num_sections))</span>
        <span class="n">angle</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># No sweep</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">):</span>
            <span class="c1"># print(&quot;i&quot;,i)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Xle_ht</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Xle_ht</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">sec_span_htail</span> <span class="o">*</span> <span class="n">i</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Yle_ht</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sec_span_htail</span> <span class="o">*</span> <span class="n">i</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Zle_ht</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Zo</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">sec_span_htail</span> <span class="o">*</span> <span class="n">i</span>
        <span class="c1"># print(&quot;YLE of Htail&quot;, self.Yle_ht)</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">Xle_ht</span><span class="p">,</span>
                         <span class="bp">self</span><span class="o">.</span><span class="n">Yle_ht</span><span class="p">,</span>
                         <span class="bp">self</span><span class="o">.</span><span class="n">Zle_ht</span><span class="p">])</span></div>

    <span class="c1"># Function: Calculate vert. tail leading edge coordinates</span>
<div class="viewcode-block" id="Tail.calcVertLeading_Edge"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Tail.calcVertLeading_Edge">[docs]</a>    <span class="k">def</span> <span class="nf">calcVertLeading_Edge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wing_rootchord_qrt</span><span class="p">):</span>
        <span class="c1"># Build leading edge coordinates</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Xle_vt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Yle_vt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Zle_vt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Xle_vt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Xo</span> <span class="o">+</span> <span class="n">wing_rootchord_qrt</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">boom_len</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">vtail_chord_vals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mf">4.</span>
        <span class="c1"># print(&quot;Xle_ht HERE&quot;, self.Xle_ht)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Yle_vt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Yo</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Zle_vt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Zo</span>
        <span class="n">Xo_quar_vt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Xle_vt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">vtail_chord_vals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">4</span>
        <span class="c1"># print(range(self.num_sections))</span>
        <span class="n">angle</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># No sweep</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sections</span><span class="p">):</span>
            <span class="c1"># print(&quot;i&quot;,i)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Xle_vt</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Xle_vt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">sec_span_vtail</span> <span class="o">*</span> <span class="n">i</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Yle_vt</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sec_span_vtail</span> <span class="o">*</span> <span class="n">i</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Zle_vt</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Zo</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">sec_span_vtail</span> <span class="o">*</span> <span class="n">i</span>
        <span class="c1"># print(&quot;ZLE of Vtail&quot;, self.Zle_vt)</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">Xle_vt</span><span class="p">,</span>
                         <span class="bp">self</span><span class="o">.</span><span class="n">Yle_vt</span><span class="p">,</span>
                         <span class="bp">self</span><span class="o">.</span><span class="n">Zle_vt</span><span class="p">])</span></div>

    <span class="c1"># Function: Calculate mean aerodynaic chord for tail</span>
    <span class="c1"># MAC = 2/Sref * integral chord^2 dy (from 0 to b_wing/2)</span>
<div class="viewcode-block" id="Tail.calcMAC_ht"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Tail.calcMAC_ht">[docs]</a>    <span class="k">def</span> <span class="nf">calcMAC_ht</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MAC_ht</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MAC_ht</span> <span class="o">=</span> <span class="n">integrate</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">htail_chord</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">htail_chord</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span>
                                                <span class="bp">self</span><span class="o">.</span><span class="n">htail_chord</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">htail_chord</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
                                     <span class="bp">self</span><span class="o">.</span><span class="n">b_htail</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MAC_ht</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MAC_ht</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mf">2.0</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">sref_ht</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">MAC_ht</span></div>

    <span class="c1"># Function: Calculate mean aerodynaic chord for tail</span>
    <span class="c1"># MAC = 2/Sref * integral chord^2 dy (from 0 to b_wing/2)</span>
<div class="viewcode-block" id="Tail.calcMAC_vt"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Tail.calcMAC_vt">[docs]</a>    <span class="k">def</span> <span class="nf">calcMAC_vt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MAC_vt</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MAC_vt</span> <span class="o">=</span> <span class="n">integrate</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vtail_chord</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">vtail_chord</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span>
                                                <span class="bp">self</span><span class="o">.</span><span class="n">vtail_chord</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">vtail_chord</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_vtail</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MAC_vt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MAC_vt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">sref_vt</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">MAC_vt</span></div></div>


<div class="viewcode-block" id="Body"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Body">[docs]</a><span class="k">class</span> <span class="nc">Body</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class used as a container for all body/fuselage information (taken from input file)</span>
<span class="sd">    - Translate and scale fuselage</span>
<span class="sd">    - Volume</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Bfile</span><span class="p">,</span> <span class="n">translate</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">scale</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bfile</span> <span class="o">=</span> <span class="n">Bfile</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">translate</span> <span class="o">=</span> <span class="n">translate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale</span> <span class="o">=</span> <span class="n">scale</span>

    <span class="c1"># Calculate interior volume</span>
<div class="viewcode-block" id="Body.getVolume"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Body.getVolume">[docs]</a>    <span class="k">def</span> <span class="nf">getVolume</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div></div>


<div class="viewcode-block" id="Propulsion"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Propulsion">[docs]</a><span class="k">class</span> <span class="nc">Propulsion</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class used as a container for all propulsion information (taken from input file)</span>
<span class="sd">    - Thrust curve</span>
<span class="sd">    - Battery # of cell</span>
<span class="sd">    - Mass</span>
<span class="sd">    - Propeller properties (diameter and pitch)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">motorKV</span><span class="p">,</span> <span class="n">diameter</span><span class="p">,</span> <span class="n">pitch</span><span class="p">,</span> <span class="n">cellNum</span><span class="p">,</span> <span class="n">thrustCurve</span><span class="p">,</span> <span class="n">escCur</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">motorKV</span> <span class="o">=</span> <span class="n">motorKV</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diameter</span> <span class="o">=</span> <span class="n">diameter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pitch</span> <span class="o">=</span> <span class="n">pitch</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cellNum</span> <span class="o">=</span> <span class="n">cellNum</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thrustCurve</span> <span class="o">=</span> <span class="n">thrustCurve</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">escCur</span> <span class="o">=</span> <span class="n">escCur</span>

<div class="viewcode-block" id="Propulsion.setThrustCurve"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Propulsion.setThrustCurve">[docs]</a>    <span class="k">def</span> <span class="nf">setThrustCurve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">thrustCurve</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thrustCurve</span> <span class="o">=</span> <span class="n">thrustCurve</span></div>

<div class="viewcode-block" id="Propulsion.getThrustCurve"><a class="viewcode-back" href="../../Aircraft_Class.html#Aircraft_Class.aircraft_class.Propulsion.getThrustCurve">[docs]</a>    <span class="k">def</span> <span class="nf">getThrustCurve</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">thrustCurve</span></div></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, MACH and M-Fly.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
    </div>

    

    
  </body>
</html>